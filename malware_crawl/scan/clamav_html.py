import pyclamd
import urllib2

def download_html(url):
	u = urllib2.urlopen(url, timeout = 10.0)
	if (u == None) : 
		return None	
	path = '/home/wl15g09/project/'
	fileName = 'file1.html'
	localFile = open(path + fileName, 'w+')
	localFile.write(u.read())
	localFile.close()
	return path + fileName

def scan_html(url):
	html = download_html(url)
	if(html == None):
		return None
	else:
		pyclamd.init_unix_socket()
		result = pyclamd.scan_file(html)
		if (result == None):
			return 'No malicious content found.'
		else:
			return result

